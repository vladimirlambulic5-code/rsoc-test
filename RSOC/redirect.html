<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Redirecting…</title>
  <meta name="robots" content="noindex,nofollow" />
  <style>
    body{margin:0;background:#0b0b0b;color:#e9e9e9;font-family:Arial,Helvetica,sans-serif;display:flex;align-items:center;justify-content:center;height:100vh}
    .box{background:#141414;border:1px solid #2a2a2a;border-radius:12px;padding:18px 20px;text-align:center;max-width:520px}
    .kw{opacity:.85;margin-top:4px}
    .hint{color:#a0a0a0;font-size:14px;margin-top:10px}
    .btn{display:inline-block;margin-top:14px;padding:10px 14px;border-radius:8px;background:#ec154a;color:#fff;text-decoration:none}
  </style>
  <!-- HTML fallback za slučaj da JS ne radi (2s) -->
  <meta id="fallback" http-equiv="refresh" content="2">
</head>
<body>
  <div class="box">
    <div>Redirecting…</div>
    <div class="kw" id="kwText"></div>
    <div class="hint">If nothing happens, use the button below.</div>
    <a class="btn" id="btn" href="#">Continue</a>
  </div>

  <script>
    const p = new URLSearchParams(location.search);
    const kw = (p.get("kw") || "").trim();

    const PASSTHROUGH_KEYS = [
      "src","subid","sub_id","clickid","fbclid","gclid",
      "utm_source","utm_medium","utm_campaign","utm_term","utm_content"
    ];

    const url = new URL("https://www.google.com/search");
    url.searchParams.set("q", kw);
    for (const k of PASSTHROUGH_KEYS) {
      if (p.has(k)) url.searchParams.set(k, p.get(k));
    }
    const target = url.toString();

    // prikaži KW i setuj button/fallback
    document.getElementById("kwText").textContent = kw ? `(${kw})` : "";
    document.getElementById("btn").href = target;

    // podesi meta fallback URL
    const meta = document.getElementById("fallback");
    meta.setAttribute("content", "2; url=" + target);

    // instant redirect preko JS
    setTimeout(() => location.replace(target), 150);
  </script>
</body>
</html>
